<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Altair Visualization Code | PyScript Collective</title>
    <link rel="icon" href="../../../favicon.png">
    <link rel="stylesheet" href="../../../static/psc.css">
    <link rel="stylesheet" href="../../../static/bulma.min.css">
    
    <script src="../../../static/prism.js"></script>
    <script defer>Prism.plugins.customClass.prefix("prism--");</script>
    <link rel="stylesheet" href="../../../static/prism.css">

</head>
<body>
<nav class="navbar is-black" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://pyscript.net/">
            <img alt="Logo" src="../../../static/pyscript-sticker-black.svg" height="28">
        </a>
        <a class="navbar-item" href="../../../index.html">
            PyScript Collective
        </a>
    </div>

    <div id="navbar" class="navbar-menu">
        <div class="navbar-start">
            <a id="navbarGallery" class="navbar-item" href="../../../gallery">
                Gallery
            </a>
            <a id="navbarAuthors" class="navbar-item" href="../../../gallery/authors">
                Authors
            </a>
            <a id="navbarJoin" class="navbar-item" href="../../../pages/contributing.html">
                Join
            </a>
            <a id="navbarFAQ" class="navbar-item" href="../../../pages/faq.html">
                FAQ
            </a>
            <a id="navbarAbout" class="navbar-item" href="../../../pages/about.html">
                About
            </a>
        </div>
    </div>
</nav>

    <main id="main_container" class="container">
        <a class="button is-pulled-right" href="./index.html">Back to Demo</a>
        <h1 class="title">Altair Visualization Code</h1>
        <div class="content">
            
                <h2>index.html</h2>
                <pre class="prism-code"><code class="language-html"
                                              data-prismjs-copy="Copy the snippet">&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;title&gt;Altair Visualization&lt;/title&gt;
    &lt;link rel=&#34;icon&#34; type=&#34;image/png&#34; href=&#34;../../../favicon.png&#34;&gt;
    &lt;script defer src=&#34;../../../pyscript/pyscript.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;py-config src=&#34;../py_config.local.toml&#34;&gt;
    packages=[
    &#34;altair&#34;,
    &#34;pandas&#34;,
    &#34;vega_datasets&#34;
    ]
&lt;/py-config&gt;
&lt;div id=&#34;altair&#34; style=&#34;width: 100%; height: 100%&#34;&gt;&lt;/div&gt;
&lt;py-script output=&#34;altair&#34;&gt;
        import altair as alt
        from vega_datasets import data

        source = data.movies.url

        pts = alt.selection(type=&#34;single&#34;, encodings=[&#39;x&#39;])

        rect = alt.Chart(data.movies.url).mark_rect().encode(
            alt.X(&#39;IMDB_Rating:Q&#39;, bin=True),
            alt.Y(&#39;Rotten_Tomatoes_Rating:Q&#39;, bin=True),
            alt.Color(&#39;count()&#39;,
                      scale=alt.Scale(scheme=&#39;greenblue&#39;),
                      legend=alt.Legend(title=&#39;Total Records&#39;)
                      )
        )

        circ = rect.mark_point().encode(
            alt.ColorValue(&#39;grey&#39;),
            alt.Size(&#39;count()&#39;,
                     legend=alt.Legend(title=&#39;Records in Selection&#39;)
                     )
        ).transform_filter(
            pts
        )

        bar = alt.Chart(source).mark_bar().encode(
            x=&#39;Major_Genre:N&#39;,
            y=&#39;count()&#39;,
            color=alt.condition(pts, alt.ColorValue(&#34;steelblue&#34;), alt.ColorValue(&#34;grey&#34;))
        ).properties(
            width=550,
            height=200
        ).add_selection(pts)

        alt.vconcat(
            rect + circ,
            bar
        ).resolve_legend(
            color=&#34;independent&#34;,
            size=&#34;independent&#34;
        )
&lt;/py-script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
            
        </div>
    </main>

<footer class="footer">
    <div class="content has-text-centered">
        <p>
            <a href="https://github.com/pyscript/pyscript-collective"><strong>PyScript Collective</strong></a> is
            licensed under
            <a href="https://github.com/pyscript/pyscript-collective/blob/main/LICENSE.md">Apache 2.0</a>.
        </p>
    </div>
</footer>
</body>
</html>